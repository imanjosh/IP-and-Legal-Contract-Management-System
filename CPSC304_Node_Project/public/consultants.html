<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Consultants</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <aside class="sidebar">
    <h2>IP Legal DB</h2>
    <nav class="menu">
      <a href="index.html"> Home</a>
      <a href="consultants.html" class="active"> Consultants</a>
      <a href="cases.html"> Cases</a>
      <a href="consultations.html"> Consultations</a>
    </nav>
  </aside>

  <main class="content">
    <h1>Consultants</h1>

   
    <div class="card">
      <h2>ğŸ‘¥ All Consultants</h2>
      <p class="help-text">View complete list of consultant lawyers in the system. Use filters below to narrow results.</p>
      <table class="data-table" id="consultantsTable">
        <thead>
          <tr>
            <th>ID</th>
            <th>Name</th>
            <th>License Number</th>
            <th>Years Exp.</th>
            <th>Specialization</th>
            <th>Contact</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>


   
    <div class="card search-card">
      <h2>ğŸ” Search & Filter Consultants</h2>
      <p class="help-text">Check the boxes for filters you want to use. Use AND/OR to combine multiple filters.</p>
      <p class="input-help">ğŸ’¡ <strong>Tip:</strong> Name, Specialization, and Contact support partial matches. License Number requires exact match.</p>

      <div style="display: flex; flex-direction: column; gap: 16px; margin-bottom: 16px;">
        
        <div style="display: grid; grid-template-columns: auto auto 1fr; gap: 12px; align-items: center;">
          <input type="checkbox" id="enableName" style="margin: 0;">
          <div style="width: 80px;"></div>
          <div class="form-group" style="margin: 0;">
            <label>Name</label>
            <input type="text" id="filterName" placeholder="e.g., Smith" disabled>
          </div>
        </div>

        <div style="display: grid; grid-template-columns: auto auto 1fr; gap: 12px; align-items: center;">
          <input type="checkbox" id="enableLicense" style="margin: 0;">
          <select id="conn2" disabled style="width: 80px;">
            <option>AND</option>
            <option>OR</option>
          </select>
          <div class="form-group" style="margin: 0;">
            <label>License Number</label>
            <input type="text" id="filterLicense" placeholder="Exact match required" disabled>
          </div>
        </div>

        <div style="display: grid; grid-template-columns: auto auto 1fr; gap: 12px; align-items: center;">
          <input type="checkbox" id="enableExp" style="margin: 0;">
          <select id="conn3" disabled style="width: 80px;">
            <option>AND</option>
            <option>OR</option>
          </select>
          <div class="form-group" style="margin: 0;">
            <label>Years of Experience</label>
            <div class="range-inline">
              <input type="number" id="filterMinExp" placeholder="Min" min="0" disabled>
              <span>to</span>
              <input type="number" id="filterMaxExp" placeholder="Max" min="0" disabled>
            </div>
          </div>
        </div>

        <div style="display: grid; grid-template-columns: auto auto 1fr; gap: 12px; align-items: center;">
          <input type="checkbox" id="enableSpec" style="margin: 0;">
          <select id="conn4" disabled style="width: 80px;">
            <option>AND</option>
            <option>OR</option>
          </select>
          <div class="form-group" style="margin: 0;">
            <label>Specialization</label>
            <input type="text" id="filterSpec" placeholder="e.g., Patent Law" disabled>
          </div>
        </div>

        <div style="display: grid; grid-template-columns: auto auto 1fr; gap: 12px; align-items: center;">
          <input type="checkbox" id="enableContact" style="margin: 0;">
          <select id="conn5" disabled style="width: 80px;">
            <option>AND</option>
            <option>OR</option>
          </select>
          <div class="form-group" style="margin: 0;">
            <label>Contact Email</label>
            <input type="text" id="filterContact" placeholder="Email contains..." disabled>
          </div>
        </div>

      </div>

      <div class="form-actions">
        <button class="btn submit" id="filterBtn">ğŸ” Apply Filters</button>
        <button class="btn cancel" id="resetBtn">âœ— Clear Filters</button>
      </div>
    </div>



    <div class="card form-card">
      <h2>âœï¸ Update Consultant Information</h2>
      <p class="help-text">Enter the consultant ID and modify only the fields you want to update. Leave other fields empty to keep current values.</p>

      <form id="consultantForm">
        <div class="form-group">
          <label>Consultant ID <span style="color: red;">*</span></label>
          <input type="number" name="consultant_id" placeholder="e.g., 201" required>
          <span class="input-help">Required - ID of consultant to update</span>
        </div>
        <div class="form-group">
          <label>Name</label>
          <input type="text" name="name" placeholder="Enter new name">
        </div>
        <div class="form-group">
          <label>License Number</label>
          <input type="text" name="license_number" placeholder="Enter new license number">
        </div>

        <div class="form-group">
          <label>Years of Experience</label>
          <select name="years_experience" id="yearsExperience" class="form-control">
            <option value="">-- No change --</option>
            <option value="1">1</option><option value="2">2</option><option value="3">3</option>
            <option value="4">4</option><option value="5">5</option><option value="6">6</option>
            <option value="7">7</option><option value="8">8</option><option value="9">9</option>
            <option value="10">10</option>
          </select>
        </div>

        <div class="form-group">
          <label>Specialization</label>
          <input type="text" name="specialization" placeholder="e.g., Patent Law">
        </div>
        <div class="form-group">
          <label>Contact Email</label>
          <input type="email" name="contact_details" placeholder="consultant@example.com">
        </div>

        <div class="form-actions">
          <button type="submit" class="btn submit">âœ“ Update Consultant</button>
          <button type="button" class="btn cancel" id="cancelBtn">âœ— Cancel</button>
        </div>
      </form>
    </div>

    <hr class="section-divider">

    <div class="card">
      <h2>ğŸ“‹ Custom Consultant View</h2>
      <p class="help-text">Select which consultant attributes you want to view. Choose any combination of fields.</p>
      <div class="form-group">
        <label>Select Attributes to Display:</label>
        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin-top: 8px;">
          <label style="cursor: pointer;">
            <input type="checkbox" id="proj_consultant_id" value="consultant_id">
            Consultant ID
          </label>
          <label style="cursor: pointer;">
            <input type="checkbox" id="proj_name" value="name">
            Name
          </label>
          <label style="cursor: pointer;">
            <input type="checkbox" id="proj_license_number" value="license_number">
            License Number
          </label>
          <label style="cursor: pointer;">
            <input type="checkbox" id="proj_years_experience" value="years_experience">
            Years Experience
          </label>
          <label style="cursor: pointer;">
            <input type="checkbox" id="proj_specialization" value="specialization">
            Specialization
          </label>
          <label style="cursor: pointer;">
            <input type="checkbox" id="proj_contact_details" value="contact_details">
            Contact Details
          </label>
        </div>
      </div>
      <div class="form-actions">
        <button class="btn submit" id="projBtn">ğŸ“‹ Load Selected Columns</button>
      </div>
      <table class="data-table" id="projectionTable">
        <thead><tr></tr></thead>
        <tbody></tbody>
      </table>
    </div>

    <hr class="section-divider">

    <div class="card">
      <h2>â­ High-Activity Consultants</h2>
      <p class="help-text">Find consultants who have more consultations than the average consultant.</p>
      <p class="input-help">ğŸ’¡ This uses a nested aggregation query with a subquery to calculate the average.</p>
      <button class="btn submit" id="aboveAvgBtn">â­ Find Above-Average Consultants</button>

      <table class="data-table" id="aboveAvgTable">
        <thead>
          <tr>
            <th>Consultant ID</th>
            <th>Name</th>
            <th>Specialization</th>
            <th>Number of Consultations</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <hr class="section-divider">

   
    <div class="card">
      <h2>ğŸ¯ Consultants with All Consultation Types</h2>
      <p class="help-text">Find consultants who have handled every type of consultation available in the system.</p>
      <p class="input-help">ğŸ’¡ This advanced query uses division to identify the most versatile consultants.</p>
      <button class="btn submit" id="divisionBtn">ğŸ¯ Run Query</button>

      <table class="data-table" id="divisionTable">
        <thead><tr><th>Consultant ID</th><th>Name</th></tr></thead>
        <tbody></tbody>
      </table>
    </div>

  </main>

  <script src="consultants.js"></script>
</body>
</html>
